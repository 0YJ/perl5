=encoding utf8

=head1 NAME

perldelta - what is new for perl v5.29.8

=head1 DESCRIPTION

This document describes differences between the 5.29.7 release and the 5.29.8
release.

If you are upgrading from an earlier release such as 5.29.6, first read
L<perl5297delta>, which describes differences between 5.29.6 and 5.29.7.

=head1 Notice

sv_utf8_(downgrade|decode) are no longer marked as experimental [perl #133788]

=head1 Core Enhancements

=head2 Use faster method to convert to UTF-8

There is a special inline function that's used when converting a single
byte to UTF-8, that is faster than the more general one used prior to
this commit.

=head2 Turkic UTF-8 locales are now seamlessly supported

Turkic languages have different casing rules than other languages for
the characters C<"i"> and C<"I">.  The uppercase of C<"i"> is LATIN
CAPITAL LETTER I WITH DOT ABOVE (U+0130); and the lowercase of C<"I"> is LATIN
SMALL LETTER DOTLESS I (U+0131).  Unicode furnishes alternate casing
rules for use with Turkic languages.  Previously, Perl ignored these,
but now, it uses them when it detects that it is operating under a
Turkic UTF-8 locale.

=head2 Eliminate opASSIGN macro usage from core

This macro is still defined but no longer used in core

=head1 Incompatible Changes

=head2 JSON::PP enable allow_nonref by default

As JSON::XS 4.0 changed its policy and enabled allow_nonref
by default, JSON::PP also enabled allow_nonref by default.

=head1 Performance Enhancements

=over 4

Eliminate recursion from finalize_op() [perl #108276]

=back

=head1 Modules and Pragmata

=head2 Updated Modules and Pragmata

=over 4

=item *

L<B> has been upgraded from version 1.75 to 1.76.

=item *

L<Encode> has been upgraded from version 2.97 to 3.00.

=item *

L<JSON::PP> has been upgraded from version 2.97001 to 4.00.
JSON::PP as JSON::XS 4.0 enable allow_nonref by default

=item *

L<Module::CoreList> has been upgraded from version 5.20190120 to 5.20190220.

Changes to B::Op_private and Config

=item *

L<Module::Load> has been upgraded from version 0.32 to 0.34.

=item *

L<Net::Ping> has been upgraded from version 2.61 to 2.71.

=item *

L<perlfaq> has been upgraded from version 5.20180915 to 5.20190126.

=item *

L<Test::Simple> has been upgraded from version 1.302160 to 1.302162.

=item *

L<XS::APItest> has been upgraded from version 0.99 to 1.00.

=back

=head1 Documentation

=head2 Changes to Existing Documentation

We have attempted to update the documentation to reflect the changes
listed in this document.  If you find any we have missed, send email
to L<perlbug@perl.org|mailto:perlbug@perl.org>.

Additionally, the following selected changes have been made:

=head3 L<perlfunc>

=over 4

=item *

Try to clarify that C<< ref(qr/xx/) >> returns C<Regexp> rather than
C<REGEXP> and why.  [perl #133751]

=back

=head3 L<perllocale>

=over 4

=item *

There are actually two slightly different types of UTF-8 locales: one for Turkic
languages and one for everything else. Starting in Perl v5.30, Perl seamlessly 
handles both types.

=back

=head3 L<perlrecharclass>

=over 4

=item *

Add a note for the ::xdigit:: character class.

=back

=head1 Diagnostics

The following additions or changes have been made to diagnostic output,
including warnings and fatal error messages.  For the complete list of
diagnostic messages, see L<perldiag>.

=head2 Changes to Existing Diagnostics

=over 4

=item *

L<Type of arg %d to %s must be %s (not %s)|perldiag/"Type of arg %d to %s must be %s (not %s)">

Attempts to push, pop, etc on a hash or glob now produce this message
rather than complaining that they no longer work on scalars. [perl
#130367]

=back

=head1 Configuration and Compilation

=over 4

=item *

Improve detection of memrchr, strlcat, and strlcpy

=item *

Improve Configure detection of memmem() [perl #133760].

=back

=head1 Testing

XXX Any significant changes to the testing of a freshly built perl should be
listed here.  Changes which create B<new> files in F<t/> go here as do any
large changes to the testing harness (e.g. when parallel testing was added).
Changes to existing files in F<t/> aren't worth summarizing, although the bugs
that they represent may be covered elsewhere.

XXX If there were no significant test changes, say this:

Tests were added and changed to reflect the other additions and changes
in this release.

XXX If instead there were significant changes, say this:

Tests were added and changed to reflect the other additions and
changes in this release.  Furthermore, these significant changes were
made:

[ List each test improvement as an =item entry ]

=over 4

=item *

t/lib/croak/op [perl #130367]

separate error for push etc on hash/glob

=item *

t/op/svleak.t [perl #133660]

add test for goto &sub in overload leaking

=item *

Split t/re/fold_grind.t into multiple test files

=back

=head1 Platform Support

XXX Any changes to platform support should be listed in the sections below.

[ Within the sections, list each platform as an =item entry with specific
changes as paragraphs below it. ]

=head2 New Platforms

XXX List any platforms that this version of perl compiles on, that previous
versions did not.  These will either be enabled by new files in the F<hints/>
directories, or new subdirectories and F<README> files at the top level of the
source tree.

=over 4

=item XXX-some-platform

XXX

=back

=head2 Discontinued Platforms

XXX List any platforms that this version of perl no longer compiles on.

=over 4

=item XXX-some-platform

XXX

=back

=head2 Platform-Specific Notes

XXX List any changes for specific platforms.  This could include configuration
and compilation changes or changes in portability/compatibility.  However,
changes within modules for platforms should generally be listed in the
L</Modules and Pragmata> section.

=over 4

=item XXX-some-platform

XXX

=back

=head1 Internal Changes

XXX Changes which affect the interface available to C<XS> code go here.  Other
significant internal changes for future core maintainers should be noted as
well.

[ List each change as an =item entry ]

=over 4

=item *

XXX

=back

=head1 Selected Bug Fixes

XXX Important bug fixes in the core language are summarized here.  Bug fixes in
files in F<ext/> and F<lib/> are best summarized in L</Modules and Pragmata>.

[ List each fix as an =item entry ]

=over 4

=item *

Regular expression matching no longer leaves stale UTF-8 length magic
when updating C<$^R>. This could result in C<length($^R)> returning
an incorrect value.

=item *

Fix a qr/[...]/ bug introduced in v5.29.7

Using /il should not result in looking for a [:posix:] class
that matches the code points given.

=item *

Reduce recursion on ops [perl #108276]

This can prevent stack overflow when processing extremely deep op
trees.

=item *

Avoid leak in multiconcat with overloading. [perl #133789]

=back

=head1 Acknowledgements

XXX Generate this with:

  perl Porting/acknowledgements.pl v5.29.7..HEAD

=head1 Reporting Bugs

If you find what you think is a bug, you might check the perl bug database
at L<https://rt.perl.org/>.  There may also be information at
L<http://www.perl.org/>, the Perl Home Page.

If you believe you have an unreported bug, please run the L<perlbug> program
included with your release.  Be sure to trim your bug down to a tiny but
sufficient test case.  Your bug report, along with the output of C<perl -V>,
will be sent off to perlbug@perl.org to be analysed by the Perl porting team.

If the bug you are reporting has security implications which make it
inappropriate to send to a publicly archived mailing list, then see
L<perlsec/SECURITY VULNERABILITY CONTACT INFORMATION>
for details of how to report the issue.

=head1 Give Thanks

If you wish to thank the Perl 5 Porters for the work we had done in Perl 5,
you can do so by running the C<perlthanks> program:

    perlthanks

This will send an email to the Perl 5 Porters list with your show of thanks.

=head1 SEE ALSO

The F<Changes> file for an explanation of how to view exhaustive details on
what changed.

The F<INSTALL> file for how to build Perl.

The F<README> file for general stuff.

The F<Artistic> and F<Copying> files for copyright information.

=cut
